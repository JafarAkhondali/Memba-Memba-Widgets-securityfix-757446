var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,g){a!=Array.prototype&&a!=Object.prototype&&(a[d]=g.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(d){return $jscomp.SYMBOL_PREFIX+(d||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.arrayIterator=function(a){var d=0;return $jscomp.iteratorPrototype(function(){return d<a.length?{done:!1,value:a[d++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var d=a[Symbol.iterator];return d?d.call(a):$jscomp.arrayIterator(a)};$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(a){var d=function(){};d.prototype=a;return new d};
$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},d={};try{return d.__proto__=a,d.a}catch(g){}return!1};$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,d){a.__proto__=d;if(a.__proto__!==d)throw new TypeError(a+" is not extensible");return a}:null;
$jscomp.inherits=function(a,d){a.prototype=$jscomp.objectCreate(d.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var g=$jscomp.setPrototypeOf;g(a,d)}else for(g in d)if("prototype"!=g)if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(d,g);f&&Object.defineProperty(a,g,f)}else a[g]=d[g];a.superClass_=d.prototype};$jscomp.arrayFromIterator=function(a){for(var d,g=[];!(d=a.next()).done;)g.push(d.value);return g};
$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};$jscomp.iteratorFromArray=function(a,d){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var g=0,f={next:function(){if(g<a.length){var l=g++;return{value:d(l,a[l]),done:!1}}f.next=function(){return{done:!0,value:void 0}};return f.next()}};f[Symbol.iterator]=function(){return f};return f};
$jscomp.polyfill=function(a,d,g,f){if(d){g=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var l=a[f];l in g||(g[l]={});g=g[l]}a=a[a.length-1];f=g[a];d=d(f);d!=f&&null!=d&&$jscomp.defineProperty(g,a,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
(function(a,d){"object"===typeof exports&&"undefined"!==typeof module?d(exports):"function"===typeof define&&define.amd?define(["exports"],d):d(a.rfc6902={})})(this,function(a){function d(b){return b.replace(/~1/g,"/").replace(/~0/g,"~")}function g(b){return b.replace(/~/g,"~0").replace(/\//g,"~1")}function f(b){if(null==b||"object"!=typeof b)return b;if(b.constructor==Array){for(var c=b.length,a=Array(c),e=0;e<c;e++)a[e]=f(b[e]);return a}c={};for(a in b)z.call(b,a)&&(c[a]=f(b[a]));return c}function l(b){return void 0===
b?"undefined":null===b?"null":Array.isArray(b)?"array":typeof b}function n(b,c){if(b===c)return!0;var a=l(b),e=l(c);if("array"==a&&"array"==e){a:if(a=b.length,a!==c.length)b=!1;else{for(e=0;e<a;e++)if(!n(b[e],c[e])){b=!1;break a}b=!0}return b}if("object"==a&&"object"==e){a:{a=Object.keys(b);var d=Object.keys(c);e=a.length;if(e!==d.length)b=!1;else{for(d=0;d<e;d++){var k=a[d];if(!c.hasOwnProperty(k)||!n(b[k],c[k])){b=!1;break a}}b=!0}}return b}return!1}function q(b,c,a){Array.isArray(b)?"-"==c?b.push(a):
(c=parseInt(c,10),b.splice(c,0,a)):b[c]=a}function u(b,c){Array.isArray(b)?(c=parseInt(c,10),b.splice(c,1)):delete b[c]}function A(b,c){b=h.fromJSON(c.path).evaluate(b);if(null===b.parent)return new m(c.path);if(Array.isArray(b.parent)){if(parseInt(b.key,10)>=b.parent.length)return new m(c.path)}else if(void 0===b.value)return new m(c.path);b.parent[b.key]=c.value;return null}function B(b,c){switch(c.op){case "add":return b=h.fromJSON(c.path).evaluate(b),void 0===b.parent?c=new m(c.path):(q(b.parent,
b.key,c.value),c=null),c;case "remove":return b=h.fromJSON(c.path).evaluate(b),void 0===b.value?c=new m(c.path):(u(b.parent,b.key),c=null),c;case "replace":return A(b,c);case "move":var a=h.fromJSON(c.from).evaluate(b);void 0===a.value?c=new m(c.from):(b=h.fromJSON(c.path).evaluate(b),void 0===b.parent?c=new m(c.path):(u(a.parent,a.key),q(b.parent,b.key,a.value),c=null));return c;case "copy":return a=h.fromJSON(c.from).evaluate(b),void 0===a.value?c=new m(c.from):(b=h.fromJSON(c.path).evaluate(b),
void 0===b.parent?c=new m(c.path):(q(b.parent,b.key,f(a.value)),c=null)),c;case "test":return b=h.fromJSON(c.path).evaluate(b),c=n(b.value,c.value)?null:new v(b.value,c.value),c}return new w(c)}function C(b){b=b.op;return"remove"===b||"replace"===b||"copy"===b||"move"===b}function x(b,c){var a={},e;for(e in b)b.hasOwnProperty(e)&&void 0!==b[e]&&(a[e]=1);for(var d in c)c.hasOwnProperty(d)&&void 0!==c[d]&&delete a[d];return Object.keys(a)}function D(b){for(var c=b.length,a={},e=0;e<c;e++){var d=b[e],
k;for(k in d)d.hasOwnProperty(k)&&void 0!==d[k]&&(a[k]=(a[k]||0)+1)}for(var g in a)a[g]<c&&delete a[g];return Object.keys(a)}function r(b,c){return{operations:b.operations.concat(c),cost:b.cost+1}}function E(b,c,a,d){function e(a,d){var g=a+","+d,f=t[g];if(void 0===f){if(0<a&&0<d&&n(b[a-1],c[d-1]))f=e(a-1,d-1);else{f=[];if(0<a){var k=e(a-1,d);f.push(r(k,{op:"remove",index:a-1}))}0<d&&(k=e(a,d-1),f.push(r(k,{op:"add",index:a-1,value:c[d-1]})));0<a&&0<d&&(k=e(a-1,d-1),f.push(r(k,{op:"replace",index:a-
1,original:b[a-1],value:c[d-1]})));f=f.sort(function(b,a){return b.cost-a.cost})[0]}t[g]=f}return f}d=void 0===d?p:d;var t={"0,0":{operations:[],cost:0}},g=isNaN(b.length)||0>=b.length?0:b.length,f=isNaN(c.length)||0>=c.length?0:c.length;f=e(g,f).operations;return $jscomp.makeIterator(f.reduce(function(b,c){var e=$jscomp.makeIterator(b);b=e.next().value;e=e.next().value;if("add"===c.op){var f=c.index+1+e;c={op:c.op,path:a.add(f<g+e?String(f):"-").toString(),value:c.value};return[b.concat(c),e+1]}if("remove"===
c.op)return c={op:c.op,path:a.add(String(c.index+e)).toString()},[b.concat(c),e-1];f=a.add(String(c.index+e));c=d(c.original,c.value,f);return[b.concat.apply(b,$jscomp.arrayFromIterable(c)),e]},[[],0])).next().value}function F(b,c,a,d){d=void 0===d?p:d;var e=[];x(b,c).forEach(function(b){e.push({op:"remove",path:a.add(b).toString()})});x(c,b).forEach(function(b){e.push({op:"add",path:a.add(b).toString(),value:c[b]})});D([b,c]).forEach(function(f){e.push.apply(e,$jscomp.arrayFromIterable(d(b[f],c[f],
a.add(f))))});return e}function p(b,c,a,d){d=void 0===d?p:d;var e=l(b),f=l(c);if("array"==e&&"array"==f)return E(b,c,a,d);if("object"==e&&"object"==f)return F(b,c,a,d);b=n(b,c)?[]:[{op:"replace",path:a.toString(),value:c}];return b}function G(b){function a(c,d,f){var e=b(c,d,f);return Array.isArray(e)?e:p(c,d,f,a)}return a}function y(b,a){b=h.fromJSON(a).evaluate(b);if(void 0!==b)return{op:"test",path:a,value:b.value}}var h=function(b){this.tokens=b=void 0===b?[""]:b};h.fromJSON=function(b){var a=
b.split("/").map(d);if(""!==a[0])throw Error("Invalid JSON Pointer: "+b);return new h(a)};h.prototype.toString=function(){return this.tokens.map(g).join("/")};h.prototype.evaluate=function(b){for(var a=null,d="",e=1,f=this.tokens.length;e<f;e++)a=b,d=this.tokens[e],b=(a||{})[d];return{parent:a,key:d,value:b}};h.prototype.get=function(b){return this.evaluate(b).value};h.prototype.set=function(b,a){for(var c=1,d=this.tokens.length-1,f=this.tokens[c];c<d;c++)b=(b||{})[f];b&&(b[this.tokens[this.tokens.length-
1]]=a)};h.prototype.push=function(b){this.tokens.push(b)};h.prototype.add=function(b){b=this.tokens.concat(String(b));return new h(b)};var z=Object.prototype.hasOwnProperty,m=function(b){var a=Error.call(this,"Value required at path: "+b);this.message=a.message;"stack"in a&&(this.stack=a.stack);this.path=b;this.name="MissingError"};$jscomp.inherits(m,Error);var v=function(b,a){var c=Error.call(this,"Test failed: "+b+" != "+a);this.message=c.message;"stack"in c&&(this.stack=c.stack);this.actual=b;
this.expected=a;this.name="TestError";this.actual=b;this.expected=a};$jscomp.inherits(v,Error);var w=function(b){var a=Error.call(this,"Invalid operation: "+b.op);this.message=a.message;"stack"in a&&(this.stack=a.stack);this.operation=b;this.name="InvalidOperationError"};$jscomp.inherits(w,Error);a.applyPatch=function(b,a){return a.map(function(a){return B(b,a)})};a.createPatch=function(a,c,d){var b=new h;return(d?G(d):p)(a,c,b)};a.createTests=function(a,c){var b=[];c.filter(C).forEach(function(c){var d=
y(a,c.path);d&&b.push(d);"from"in c&&(c=y(a,c.from))&&b.push(c)});return b};Object.defineProperty(a,"__esModule",{value:!0})});
