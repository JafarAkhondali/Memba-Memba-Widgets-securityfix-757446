<!DOCTYPE html>
<html>
<head>
    <title>kidoju.integration.playmode</title>
    <link rel="stylesheet" href="./styles/2014.1.318/kendo.common.min.css">
    <link rel="stylesheet" href="./styles/2014.1.318/kendo.default.min.css">
    <link rel="stylesheet" href="./styles/kidoju.widgets.playbar.css">
    <link rel="stylesheet" href="./styles/kidoju.widgets.page.css">
    <script src="./js/2014.1.318/jquery.min.js"></script>
    <!--script src="./js/2014.1.318/kendo.all.min.js"></script-->
    <script src="../temp/Kendo/kendo.core.js"></script>
    <script src="../temp/Kendo/kendo.data.js"></script>
    <script src="../temp/Kendo/kendo.binder.js"></script>
    <script src="./js/vendor/jquery.transit.js"></script>
    <script src="./js/kidoju.models.js"></script>
    <script src="./js/kidoju.tools.js"></script>
    <script src="./js/kidoju.widgets.bindings.js"></script>
    <script src="./js/kidoju.widgets.playbar.js"></script>
    <script src="./js/kidoju.widgets.page.js"></script>
</head>
<body>
<div data-role="page" data-bind="source: current.items, properties: result" data-mode="assess"></div>
<div data-role="playbar" data-bind="source: pages, value: current"></div>
<script>
    var pageCollectionData = [
        {
            id: '29c14ae2-496b-49f5-9551-e0d7e4aa6032',
            items: [
                { id: 'be1935d0-ff0e-4818-a5a8-762127f3b506', tool : 'image', top: 50, left: 370, height: 250, width: 250, rotate: 0, attributes: '{ "src": "http://marketingland.com/wp-content/ml-loads/2013/04/google-g-logo-2012.png" }' },
                { id: 'f2b4179e-3189-401b-bb17-65ceaf62b1eb', tool : 'label', top: 300, left: 300, height: 100, width: 300, rotate: 0, attributes: '{ "font": "Georgia, serif", "color": "#0000FF", "text": "Company?" }' },
                { id: 'c3d46312-07c3-44dc-a1c9-987654949927', tool : 'textbox', top: 450, left: 350, height: 100, width: 300, rotate: 0, attributes: '{}', properties: '{ "text" : { "name" : "textfield1" } }' }
            ]
        },
        {
            id: 'c0878ced-8e3f-4161-a83a-049caed02d53',
            items: [
                { id: 'c745e385-d409-40d0-a4d7-1b7c14abc2f6', tool : 'label', top: 150, left: 280, height: 100, width: 300, rotate: 0, attributes: '{ "font": "Georgia, serif", "color": "#FF0000", "text": "Marignan?" }' },
                { id: '25bd6088-dc9f-4c9c-a697-be32b8673ba9', tool : 'textbox', top: 300, left: 330, height: 100, width: 300, rotate: 0, attributes: '{}', properties: '{ "text" : { "name" : "textfield2" } }' }
            ]
        },
        {
            id: '9e3803f8-a91c-408e-bded-d1b86c68723c',
            items: [
                { id: 'f6725a70-20b2-4adf-8b3a-a2d3f84da50d', tool : 'label', top: 120, left: 280, height: 150, width: 400, rotate: 0, attributes: '{ "font": "Arial, sans serif", "color": "#000000", "text": "Couleur du cheval blanc d\'Henri IV?" }' },
                { id: '3894e35b-b740-46c8-be24-21f4a3b9c24d', tool : 'textbox', top: 300, left: 330, height: 100, width: 300, rotate: 0, attributes: '{}', properties: ' { "text" : { "name" : "textfield3" } }' }
            ]
        }
    ],
    pageCollectionDataSource = new kidoju.PageCollectionDataSource({ data: pageCollectionData }),
    viewModel = window.viewModel = kendo.observable({
        current: undefined,
        pages: pageCollectionDataSource,
        result: undefined
    });

    $(document).ready(function() {
        pageCollectionDataSource.fetch(function() {
            window.viewModel.set('current', pageCollectionDataSource.at(0));
            window.viewModel.set('result', pageCollectionDataSource.getObjectFromProperties());
            kendo.bind('body', viewModel);
        });
    });

</script>
</body>
</html>