<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Add test to query string</title>
    <script>
        window.DEBUG = true;
    </script>
    <!-- Memba fonts -->
    <link href="../../../src/styles/fonts/memba.css" rel="stylesheet">
    <!-- Application theme -->
    <link href="../../../src/styles/themes/app.theme.nordic.css" rel="stylesheet">
    <!-- Mocha css -->
    <link href="../../vendor/mocha.css" rel="stylesheet" />
    <!-- SystemJS loader -->
    <script src="../../vendor/polyfill.min.js"></script>
    <script src="../../vendor/system.js"></script>
    <script src="../../../src/js/helpers/system.config.js"></script>
    <script>
        (function () {
            'use strict';
             SystemJS.import('mocha').then(function (args) {
                var mocha = args.mocha;
                // Help SystemJS export mocha globals
                // https://staxmanade.com/2015/09/browser-only-mochajs-tests-using-systemjs/
                mocha.suite.on('pre-require', function (context) {
                    var exports = window;
                    exports.afterEach = context.afterEach || context.teardown;
                    exports.after = context.after || context.suiteTeardown;
                    exports.beforeEach = context.beforeEach || context.setup;
                    exports.before = context.before || context.suiteSetup;
                    exports.describe = context.describe || context.suite;
                    exports.it = context.it || context.test;
                    exports.setup = context.setup || context.beforeEach;
                    exports.suiteSetup = context.suiteSetup || context.before;
                    exports.suiteTeardown = context.suiteTeardown || context.after;
                    exports.suite = context.suite || context.describe;
                    exports.teardown = context.teardown || context.afterEach;
                    exports.test = context.test || context.it;
                    exports.run = context.run;
                    const params = 'URLSearchParams' in window ?
                        new URLSearchParams(window.location.search) :
                        {
                            // Especially for Internet Explorer
                            get: function (name) {
                                const match = RegExp('[?&]' + name + '=([^&]*)').exec(window.location.search);
                                return match && decodeURIComponent(match[1].replace(/\+/g, ' '));
                            }
                        };
                    const test = params.get('t');
                    if (test) {
                        document.title = test;
                        document.getElementsByTagName('h1')[0].innerHTML = test;
                        document.getElementById('menu').style.display = 'none';
                        // now use SystemJS to load all test files
                        SystemJS.import('./' + test + '.test.es6').then(function() {
                            mocha.checkLeaks().globals(['MathQuill']);
                            mocha.run();
                        });
                    }
                });
                mocha.setup('bdd');
                mocha.timeout(10000);
            });
        }());
    </script>
</head>
<body>
<h1>Add test to query string ?t=[name] (from [name].test.es6)</h1>
<ul id="menu">
    <li><a href="?t=adapters.asset">adapters.asset</a></li>
    <li><a href="?t=adapters.base">adapters.base</a></li>
    <li><a href="?t=adapters.basiclist">adapters.basiclist</a></li>
    <li><a href="?t=adapters.boolean">adapters.boolean</a></li>
    <li><a href="?t=adapters.chargrid">adapters.chargrid</a></li>
    <li><a href="?t=adapters.chart">adapters.chart</a></li>
    <li><a href="?t=adapters.color">adapters.color</a></li>
    <li><a href="?t=adapters.connector">adapters.connector</a></li>
    <li><a href="?t=adapters.date">adapters.date</a></li>
    <li><a href="?t=adapters.disabled">adapters.disabled</a></li>
    <li><a href="?t=adapters.dropdownlist">adapters.dropdownlist</a></li>
    <li><a href="?t=adapters.expression">adapters.expression</a></li>
    <li><a href="?t=adapters.highlighter">adapters.highlighter</a></li>
    <li><a href="?t=adapters.imagelist">adapters.imagelist</a></li>
    <li><a href="?t=adapters.mathinput">adapters.mathinput</a></li>
    <li><a href="?t=adapters.multiquiz">adapters.multiquiz</a></li>
    <li><a href="?t=adapters.number">adapters.number</a></li>
    <li><a href="?t=adapters.question">adapters.question</a></li>
    <li><a href="?t=adapters.quiz">adapters.quiz</a></li>
    <li><a href="?t=adapters.readonly">adapters.readonly</a></li>
    <li><a href="?t=adapters.style">adapters.style</a></li>
    <li><a href="?t=adapters.table">adapters.table</a></li>
    <li><a href="?t=adapters.textarea">adapters.textarea</a></li>
    <li><a href="?t=adapters.textbox">adapters.textbox</a></li>
    <li><a href="?t=adapters.validation">adapters.validation</a></li>
    <li><a href="?t=tools">tools</a></li>
    <li><a href="?t=tools.audio">tools.audio</a></li>
    <li><a href="?t=tools.base">tools.base</a></li>
    <li><a href="?t=tools.chargrid">tools.chargrid</a></li>
    <li><a href="?t=tools.chart">tools.chart</a></li>
    <li><a href="?t=tools.connector">tools.connector</a></li>
    <li><a href="?t=tools.dropzone">tools.dropzone</a></li>
    <li><a href="?t=tools.dummy">tools.dummy</a></li>
    <li><a href="?t=tools.highlighter">tools.highlighter</a></li>
    <li><a href="?t=tools.image">tools.image</a></li>
    <li><a href="?t=tools.imageset">tools.imageset</a></li>
    <li><a href="?t=tools.label">tools.label</a></li>
    <li><a href="?t=tools.latex">tools.latex</a></li>
    <li><a href="?t=tools.line">tools.line</a></li>
    <li><a href="?t=tools.mathinput">tools.mathinput</a></li>
    <li><a href="?t=tools.multiquiz">tools.multiquiz</a></li>
    <li><a href="?t=tools.numericbox">tools.numericbox</a></li>
    <li><a href="?t=tools.pointer">tools.pointer</a></li>
    <li><a href="?t=tools.quiz">tools.quiz</a></li>
    <li><a href="?t=tools.selector">tools.selector</a></li>
    <li><a href="?t=tools.shape">tools.shape</a></li>
    <li><a href="?t=tools.table">tools.table</a></li>
    <li><a href="?t=tools.textarea">tools.textarea</a></li>
    <li><a href="?t=tools.textbox">tools.textbox</a></li>
    <li><a href="?t=tools.textgaps">tools.textgaps</a></li>
    <li><a href="?t=tools.variable">tools.variable</a></li>
    <li><a href="?t=tools.video">tools.video</a></li>
    <li><a href="?t=util.assets">util.assets</a></li>
    <li><a href="?t=util.editors">util.editors</a></li>
    <li><a href="?t=util.libraries">util.libraries</a></li>
    <li><a href="?t=util.validators">util.validators</a></li>
</ul>
<div id="mocha"></div>
<div id="fixtures"></div>
</body>
</html>
